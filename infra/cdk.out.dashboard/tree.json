{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.232.1"},"children":{"ZilloDashboardStack":{"id":"ZilloDashboardStack","path":"ZilloDashboardStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"DashboardRepository":{"id":"DashboardRepository","path":"ZilloDashboardStack/DashboardRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.232.1","metadata":[]}},"GitHubOIDCProvider":{"id":"GitHubOIDCProvider","path":"ZilloDashboardStack/GitHubOIDCProvider","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.OpenIdConnectProvider","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/GitHubOIDCProvider/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.232.1","metadata":[]},"children":{"Default":{"id":"Default","path":"ZilloDashboardStack/GitHubOIDCProvider/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}}}},"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider":{"id":"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","path":"ZilloDashboardStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.232.1"},"children":{"Staging":{"id":"Staging","path":"ZilloDashboardStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"Role":{"id":"Role","path":"ZilloDashboardStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}},"Handler":{"id":"Handler","path":"ZilloDashboardStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"GitHubActionsRole":{"id":"GitHubActionsRole","path":"ZilloDashboardStack/GitHubActionsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportGitHubActionsRole":{"id":"ImportGitHubActionsRole","path":"ZilloDashboardStack/GitHubActionsRole/ImportGitHubActionsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloDashboardStack/GitHubActionsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"token.actions.githubusercontent.com:aud":"sts.amazonaws.com"},"StringLike":{"token.actions.githubusercontent.com:sub":"repo:wrappedmatt/Zillo:*"}},"Effect":"Allow","Principal":{"Federated":{"Ref":"GitHubOIDCProvider4F328116"}}}],"Version":"2012-10-17"},"roleName":"Zillo-GitHubActions-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloDashboardStack/GitHubActionsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/GitHubActionsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage","ecr:CompleteLayerUpload","ecr:UploadLayerPart","ecr:InitiateLayerUpload","ecr:PutImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:711801600585:repository/zillo-dashboard"]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["ecr:GetDownloadUrlForLayer","ecr:BatchGetImage","ecr:BatchCheckLayerAvailability","ecr:PutImage","ecr:InitiateLayerUpload","ecr:UploadLayerPart","ecr:CompleteLayerUpload"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-1:711801600585:repository/zillo-*"}],"Version":"2012-10-17"},"policyName":"GitHubActionsRoleDefaultPolicy69DA0189","roles":[{"Ref":"GitHubActionsRole4F1BBA26"}]}}}}}}},"DashboardSecrets":{"id":"DashboardSecrets","path":"ZilloDashboardStack/DashboardSecrets","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/DashboardSecrets/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Dashboard application secrets (Supabase, Stripe, etc.)","generateSecretString":{"secretStringTemplate":"{\"Supabase__Url\":\"REPLACE_ME\",\"Supabase__Key\":\"REPLACE_ME\",\"Stripe__SecretKey\":\"REPLACE_ME\",\"Stripe__PublishableKey\":\"REPLACE_ME\",\"Google__MapsApiKey\":\"\",\"Wallet__Apple__CertificatePassword\":\"REPLACE_ME\",\"Wallet__WebServiceUrl\":\"https://dashboard.zillo.app\"}","generateStringKey":"dummy"},"name":"Zillo/dashboard"}}}}},"AppleP12Secret":{"id":"AppleP12Secret","path":"ZilloDashboardStack/AppleP12Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/AppleP12Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Apple Wallet P12 certificate (base64 encoded)","generateSecretString":{},"name":"Zillo/certs/apple-p12"}}}}},"GoogleKeySecret":{"id":"GoogleKeySecret","path":"ZilloDashboardStack/GoogleKeySecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/GoogleKeySecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Google Wallet service account key JSON","generateSecretString":{},"name":"Zillo/certs/google-key"}}}}},"AppRunnerInstanceRole":{"id":"AppRunnerInstanceRole","path":"ZilloDashboardStack/AppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerInstanceRole":{"id":"ImportAppRunnerInstanceRole","path":"ZilloDashboardStack/AppRunnerInstanceRole/ImportAppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloDashboardStack/AppRunnerInstanceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"tasks.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-AppRunner-Instance-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloDashboardStack/AppRunnerInstanceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/AppRunnerInstanceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"DashboardSecrets3F4FEBBC"}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"AppleP12Secret569F51E5"}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"GoogleKeySecret6F69032C"}}],"Version":"2012-10-17"},"policyName":"AppRunnerInstanceRoleDefaultPolicy35195718","roles":[{"Ref":"AppRunnerInstanceRole96A5A063"}]}}}}}}},"AppRunnerAccessRole":{"id":"AppRunnerAccessRole","path":"ZilloDashboardStack/AppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerAccessRole":{"id":"ImportAppRunnerAccessRole","path":"ZilloDashboardStack/AppRunnerAccessRole/ImportAppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloDashboardStack/AppRunnerAccessRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"build.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-AppRunner-ECR-Access-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloDashboardStack/AppRunnerAccessRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloDashboardStack/AppRunnerAccessRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:711801600585:repository/zillo-dashboard"]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AppRunnerAccessRoleDefaultPolicy4FF2CFAF","roles":[{"Ref":"AppRunnerAccessRoleC89E5843"}]}}}}}}},"ECRRepositoryUri":{"id":"ECRRepositoryUri","path":"ZilloDashboardStack/ECRRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"GitHubActionsRoleArn":{"id":"GitHubActionsRoleArn","path":"ZilloDashboardStack/GitHubActionsRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"SecretsManagerArn":{"id":"SecretsManagerArn","path":"ZilloDashboardStack/SecretsManagerArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"DashboardService":{"id":"DashboardService","path":"ZilloDashboardStack/DashboardService","constructInfo":{"fqn":"aws-cdk-lib.aws_apprunner.CfnService","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppRunner::Service","aws:cdk:cloudformation:props":{"healthCheckConfiguration":{"protocol":"HTTP","path":"/api/health","interval":10,"timeout":5,"healthyThreshold":1,"unhealthyThreshold":5},"instanceConfiguration":{"cpu":"1024","memory":"2048","instanceRoleArn":{"Fn::GetAtt":["AppRunnerInstanceRole96A5A063","Arn"]}},"serviceName":"Zillo-dashboard","sourceConfiguration":{"authenticationConfiguration":{"accessRoleArn":{"Fn::GetAtt":["AppRunnerAccessRoleC89E5843","Arn"]}},"autoDeploymentsEnabled":true,"imageRepository":{"imageIdentifier":{"Fn::Join":["",["711801600585.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/zillo-dashboard:latest"]]},"imageRepositoryType":"ECR","imageConfiguration":{"port":"8080","runtimeEnvironmentSecrets":[{"name":"APP_SECRETS_ARN","value":{"Ref":"DashboardSecrets3F4FEBBC"}},{"name":"APPLE_P12_SECRET_ARN","value":{"Ref":"AppleP12Secret569F51E5"}},{"name":"GOOGLE_KEY_SECRET_ARN","value":{"Ref":"GoogleKeySecret6F69032C"}}],"runtimeEnvironmentVariables":[{"name":"ASPNETCORE_ENVIRONMENT","value":"Production"},{"name":"AWS_REGION","value":"us-east-1"}]}}}}}},"AppRunnerServiceUrl":{"id":"AppRunnerServiceUrl","path":"ZilloDashboardStack/AppRunnerServiceUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"NextSteps":{"id":"NextSteps","path":"ZilloDashboardStack/NextSteps","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ZilloDashboardStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ZilloDashboardStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZilloDashboardStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZilloDashboardStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"ZilloApiStack":{"id":"ZilloApiStack","path":"ZilloApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"ApiRepository":{"id":"ApiRepository","path":"ZilloApiStack/ApiRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiStack/ApiRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"lifecyclePolicy":{"lifecyclePolicyText":"{\"rules\":[{\"rulePriority\":1,\"description\":\"Keep only 10 images\",\"selection\":{\"tagStatus\":\"any\",\"countType\":\"imageCountMoreThan\",\"countNumber\":10},\"action\":{\"type\":\"expire\"}}]}"},"repositoryName":"zillo-api"}}}}},"GitHubActionsRole":{"id":"GitHubActionsRole","path":"ZilloApiStack/GitHubActionsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]},"children":{"Policy":{"id":"Policy","path":"ZilloApiStack/GitHubActionsRole/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiStack/GitHubActionsRole/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage","ecr:CompleteLayerUpload","ecr:UploadLayerPart","ecr:InitiateLayerUpload","ecr:PutImage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiRepositoryB8378B43","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GitHubActionsRolePolicy090A4307","roles":["Zillo-GitHubActions-Role"]}}}}}}},"DashboardSecretsName":{"id":"DashboardSecretsName","path":"ZilloApiStack/DashboardSecretsName","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"AppRunnerAccessRole":{"id":"AppRunnerAccessRole","path":"ZilloApiStack/AppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerAccessRole":{"id":"ImportAppRunnerAccessRole","path":"ZilloApiStack/AppRunnerAccessRole/ImportAppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloApiStack/AppRunnerAccessRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"build.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-API-AppRunner-ECR-Access-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloApiStack/AppRunnerAccessRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiStack/AppRunnerAccessRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiRepositoryB8378B43","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AppRunnerAccessRoleDefaultPolicy4FF2CFAF","roles":[{"Ref":"AppRunnerAccessRoleC89E5843"}]}}}}}}},"AppRunnerInstanceRole":{"id":"AppRunnerInstanceRole","path":"ZilloApiStack/AppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerInstanceRole":{"id":"ImportAppRunnerInstanceRole","path":"ZilloApiStack/AppRunnerInstanceRole/ImportAppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloApiStack/AppRunnerInstanceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"tasks.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-API-AppRunner-Instance-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloApiStack/AppRunnerInstanceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiStack/AppRunnerInstanceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard-??????"]]}}],"Version":"2012-10-17"},"policyName":"AppRunnerInstanceRoleDefaultPolicy35195718","roles":[{"Ref":"AppRunnerInstanceRole96A5A063"}]}}}}}}},"ECRRepositoryUri":{"id":"ECRRepositoryUri","path":"ZilloApiStack/ECRRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"NextSteps":{"id":"NextSteps","path":"ZilloApiStack/NextSteps","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ZilloApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ZilloApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZilloApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZilloApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"ZilloApiEcsStack":{"id":"ZilloApiEcsStack","path":"ZilloApiEcsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"ApiRepository":{"id":"ApiRepository","path":"ZilloApiEcsStack/ApiRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.232.1","metadata":[]}},"DashboardSecrets":{"id":"DashboardSecrets","path":"ZilloApiEcsStack/DashboardSecrets","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"ApiVpc":{"id":"ApiVpc","path":"ZilloApiEcsStack/ApiVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"Zillo-API-VPC"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.232.1","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ZilloApiEcsStack/ApiVpc/PublicSubnet1"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}},"Acl":{"id":"Acl","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ZilloApiEcsStack/ApiVpc/PublicSubnet1"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ApiVpcPublicSubnet1RouteTableE5D53522"},"subnetId":{"Ref":"ApiVpcPublicSubnet1SubnetFE6B0D1A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"ApiVpcIGW2C35E43F"},"routeTableId":{"Ref":"ApiVpcPublicSubnet1RouteTableE5D53522"}}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.232.1","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ZilloApiEcsStack/ApiVpc/PublicSubnet2"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}},"Acl":{"id":"Acl","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ZilloApiEcsStack/ApiVpc/PublicSubnet2"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ApiVpcPublicSubnet2RouteTable53889EC3"},"subnetId":{"Ref":"ApiVpcPublicSubnet2Subnet1D0D5E11"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ZilloApiEcsStack/ApiVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"ApiVpcIGW2C35E43F"},"routeTableId":{"Ref":"ApiVpcPublicSubnet2RouteTable53889EC3"}}}}}},"IGW":{"id":"IGW","path":"ZilloApiEcsStack/ApiVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"Zillo-API-VPC"}]}}},"VPCGW":{"id":"VPCGW","path":"ZilloApiEcsStack/ApiVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"ApiVpcIGW2C35E43F"},"vpcId":{"Ref":"ApiVpc5D2E523E"}}}}}},"ApiCluster":{"id":"ApiCluster","path":"ZilloApiEcsStack/ApiCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"Zillo-API-Cluster","clusterSettings":[{"name":"containerInsights","value":"disabled"}]}}}}},"TaskExecutionRole":{"id":"TaskExecutionRole","path":"ZilloApiEcsStack/TaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportTaskExecutionRole":{"id":"ImportTaskExecutionRole","path":"ZilloApiEcsStack/TaskExecutionRole/ImportTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloApiEcsStack/TaskExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"roleName":"Zillo-API-ECS-Execution-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloApiEcsStack/TaskExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/TaskExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard-??????"]]}},{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:711801600585:repository/zillo-api"]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiLogGroup1DEDFC07","Arn"]}}],"Version":"2012-10-17"},"policyName":"TaskExecutionRoleDefaultPolicyA84DD1B0","roles":[{"Ref":"TaskExecutionRole250D2532"}]}}}}}}},"TaskRole":{"id":"TaskRole","path":"ZilloApiEcsStack/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"ZilloApiEcsStack/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloApiEcsStack/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-API-ECS-Task-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloApiEcsStack/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard-??????"]]}}],"Version":"2012-10-17"},"policyName":"TaskRoleDefaultPolicy07FC53DE","roles":[{"Ref":"TaskRole30FC0FBB"}]}}}}}}},"ApiLogGroup":{"id":"ApiLogGroup","path":"ZilloApiEcsStack/ApiLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/zillo-api","retentionInDays":7}}}}},"ApiTaskDef":{"id":"ApiTaskDef","path":"ZilloApiEcsStack/ApiTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",["711801600585.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/zillo-api:latest"]]},"name":"zillo-api","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"ApiLogGroup1DEDFC07"},"awslogs-stream-prefix":"api","awslogs-region":"us-east-1"}},"environment":[{"name":"ASPNETCORE_ENVIRONMENT","value":"Production"},{"name":"ASPNETCORE_URLS","value":"http://+:8080"},{"name":"AWS_REGION","value":"us-east-1"}],"secrets":[{"name":"APP_SECRETS_ARN","valueFrom":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard"]]}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["TaskExecutionRole250D2532","Arn"]},"family":"zillo-api","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["TaskRole30FC0FBB","Arn"]}}}},"api":{"id":"api","path":"ZilloApiEcsStack/ApiTaskDef/api","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.232.1"}}}},"AlbSecurityGroup":{"id":"AlbSecurityGroup","path":"ZilloApiEcsStack/AlbSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/AlbSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for API ALB","groupName":"Zillo-API-ALB-SG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}}}},"EcsSecurityGroup":{"id":"EcsSecurityGroup","path":"ZilloApiEcsStack/EcsSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/EcsSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for API ECS tasks","groupName":"Zillo-API-ECS-SG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"ApiVpc5D2E523E"}}}},"from ZilloApiEcsStackAlbSecurityGroup8D7D187A:8080":{"id":"from ZilloApiEcsStackAlbSecurityGroup8D7D187A:8080","path":"ZilloApiEcsStack/EcsSecurityGroup/from ZilloApiEcsStackAlbSecurityGroup8D7D187A:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow from ALB","fromPort":8080,"groupId":{"Fn::GetAtt":["EcsSecurityGroup44008BF1","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]},"toPort":8080}}}}},"ApiAlb":{"id":"ApiAlb","path":"ZilloApiEcsStack/ApiAlb","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiAlb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"Zillo-API-ALB","scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]}],"subnets":[{"Ref":"ApiVpcPublicSubnet1SubnetFE6B0D1A"},{"Ref":"ApiVpcPublicSubnet2Subnet1D0D5E11"}],"type":"application"}}},"HttpsListener":{"id":"HttpsListener","path":"ZilloApiEcsStack/ApiAlb/HttpsListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiAlb/HttpsListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"certificates":[{"certificateArn":{"Ref":"ApiCertificate1D5B2B3B"}}],"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ApiTargetGroup5723F19D"}}],"loadBalancerArn":{"Ref":"ApiAlbDD21E9E1"},"port":443,"protocol":"HTTPS"}}}}},"HttpListener":{"id":"HttpListener","path":"ZilloApiEcsStack/ApiAlb/HttpListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiAlb/HttpListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"redirect","redirectConfig":{"statusCode":"HTTP_301","port":"443","protocol":"HTTPS"}}],"loadBalancerArn":{"Ref":"ApiAlbDD21E9E1"},"port":80,"protocol":"HTTP"}}}}}}},"ApiTargetGroup":{"id":"ApiTargetGroup","path":"ZilloApiEcsStack/ApiTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.232.1"},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckIntervalSeconds":30,"healthCheckPath":"/api/health","healthCheckTimeoutSeconds":5,"healthyThresholdCount":2,"name":"Zillo-API-TG","port":8080,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":3,"vpcId":{"Ref":"ApiVpc5D2E523E"}}}}}},"HostedZone":{"id":"HostedZone","path":"ZilloApiEcsStack/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"ApiCertificate":{"id":"ApiCertificate","path":"ZilloApiEcsStack/ApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"api.zillo.app","domainValidationOptions":[{"domainName":"api.zillo.app","hostedZoneId":"Z040845929WUCKS0P5IBA"}],"tags":[{"key":"Name","value":"ZilloApiEcsStack/ApiCertificate"}],"validationMethod":"DNS"}}}}},"ApiDnsRecord":{"id":"ApiDnsRecord","path":"ZilloApiEcsStack/ApiDnsRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiDnsRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::GetAtt":["ApiAlbDD21E9E1","CanonicalHostedZoneID"]},"dnsName":{"Fn::Join":["",["dualstack.",{"Fn::GetAtt":["ApiAlbDD21E9E1","DNSName"]}]]}},"hostedZoneId":"Z040845929WUCKS0P5IBA","name":"api.zillo.app.","type":"A"}}}}},"ApiService":{"id":"ApiService","path":"ZilloApiEcsStack/ApiService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.232.1","metadata":[]},"children":{"Service":{"id":"Service","path":"ZilloApiEcsStack/ApiService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"ApiCluster7CE9CBE6"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true},"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"deploymentController":{"type":"ECS"},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"ApiTargetGroup5723F19D"},"containerName":"zillo-api","containerPort":8080}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"ENABLED","subnets":[{"Ref":"ApiVpcPublicSubnet1SubnetFE6B0D1A"},{"Ref":"ApiVpcPublicSubnet2Subnet1D0D5E11"}],"securityGroups":[{"Fn::GetAtt":["EcsSecurityGroup44008BF1","GroupId"]}]}},"serviceName":"Zillo-API-Service","taskDefinition":{"Ref":"ApiTaskDef37DBDBD0"}}}},"ScalingRole":{"id":"ScalingRole","path":"ZilloApiEcsStack/ApiService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"TaskCount":{"id":"TaskCount","path":"ZilloApiEcsStack/ApiService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.232.1"},"children":{"Target":{"id":"Target","path":"ZilloApiEcsStack/ApiService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":3,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Ref":"ApiCluster7CE9CBE6"},"/",{"Fn::GetAtt":["ApiServiceC9037CF0","Name"]}]]},"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::711801600585:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService"]]},"scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"CpuScaling":{"id":"CpuScaling","path":"ZilloApiEcsStack/ApiService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.232.1"},"children":{"Resource":{"id":"Resource","path":"ZilloApiEcsStack/ApiService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ZilloApiEcsStackApiServiceTaskCountTargetCpuScalingA383EB0C","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"ApiServiceTaskCountTargetBFC64025"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"scaleInCooldown":60,"scaleOutCooldown":60,"targetValue":70}}}}}}}}}}}},"AlbDnsName":{"id":"AlbDnsName","path":"ZilloApiEcsStack/AlbDnsName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"AlbArn":{"id":"AlbArn","path":"ZilloApiEcsStack/AlbArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"ApiUrl":{"id":"ApiUrl","path":"ZilloApiEcsStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ZilloApiEcsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ZilloApiEcsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZilloApiEcsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZilloApiEcsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"ZilloPublicSiteStack":{"id":"ZilloPublicSiteStack","path":"ZilloPublicSiteStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"SiteBucket":{"id":"SiteBucket","path":"ZilloPublicSiteStack/SiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/SiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"zillo-public-site-711801600585","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"ZilloPublicSiteStack/SiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/SiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"SiteBucket397A1860"},"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"HostedZone":{"id":"HostedZone","path":"ZilloPublicSiteStack/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"SiteCertificate":{"id":"SiteCertificate","path":"ZilloPublicSiteStack/SiteCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/SiteCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"zillohq.com","domainValidationOptions":[{"domainName":"zillohq.com","hostedZoneId":"Z06129302Z2NOF5W08UH3"}],"tags":[{"key":"Name","value":"ZilloPublicSiteStack/SiteCertificate"}],"validationMethod":"DNS"}}}}},"OAI":{"id":"OAI","path":"ZilloPublicSiteStack/OAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/OAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Zillo Public Site OAI"}}}}}},"SiteDistribution":{"id":"SiteDistribution","path":"ZilloPublicSiteStack/SiteDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.232.1","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"ZilloPublicSiteStack/SiteDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}},"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/SiteDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["SiteBucket397A1860","RegionalDomainName"]},"id":"ZilloPublicSiteStackSiteDistributionOrigin14F37DB3C","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"ZilloPublicSiteStackSiteDistributionOrigin14F37DB3C","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"aliases":["zillohq.com"],"customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Ref":"SiteCertificate38C247F6"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"SiteAliasRecord":{"id":"SiteAliasRecord","path":"ZilloPublicSiteStack/SiteAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/SiteAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["SiteDistribution3FF9535D","DomainName"]}},"hostedZoneId":"Z06129302Z2NOF5W08UH3","name":"zillohq.com.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"ZilloPublicSiteStack/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.232.1"}},"GitHubActionsRole":{"id":"GitHubActionsRole","path":"ZilloPublicSiteStack/GitHubActionsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]},"children":{"Policy":{"id":"Policy","path":"ZilloPublicSiteStack/GitHubActionsRole/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloPublicSiteStack/GitHubActionsRole/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":"cloudfront:CreateInvalidation","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:cloudfront::711801600585:distribution/",{"Ref":"SiteDistribution3FF9535D"}]]}}],"Version":"2012-10-17"},"policyName":"GitHubActionsRolePolicy090A4307","roles":["Zillo-GitHubActions-Role"]}}}}}}},"SiteBucketName":{"id":"SiteBucketName","path":"ZilloPublicSiteStack/SiteBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"DistributionId":{"id":"DistributionId","path":"ZilloPublicSiteStack/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"SiteUrl":{"id":"SiteUrl","path":"ZilloPublicSiteStack/SiteUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ZilloPublicSiteStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ZilloPublicSiteStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZilloPublicSiteStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZilloPublicSiteStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"ZilloRewardsStack":{"id":"ZilloRewardsStack","path":"ZilloRewardsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"RewardsRepository":{"id":"RewardsRepository","path":"ZilloRewardsStack/RewardsRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloRewardsStack/RewardsRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"lifecyclePolicy":{"lifecyclePolicyText":"{\"rules\":[{\"rulePriority\":1,\"description\":\"Keep only 10 images\",\"selection\":{\"tagStatus\":\"any\",\"countType\":\"imageCountMoreThan\",\"countNumber\":10},\"action\":{\"type\":\"expire\"}}]}"},"repositoryName":"zillo-rewards"}}}}},"DashboardSecretsName":{"id":"DashboardSecretsName","path":"ZilloRewardsStack/DashboardSecretsName","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"AppRunnerAccessRole":{"id":"AppRunnerAccessRole","path":"ZilloRewardsStack/AppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerAccessRole":{"id":"ImportAppRunnerAccessRole","path":"ZilloRewardsStack/AppRunnerAccessRole/ImportAppRunnerAccessRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloRewardsStack/AppRunnerAccessRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"build.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-Rewards-AppRunner-ECR-Access-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloRewardsStack/AppRunnerAccessRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloRewardsStack/AppRunnerAccessRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["RewardsRepository26FB6791","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AppRunnerAccessRoleDefaultPolicy4FF2CFAF","roles":[{"Ref":"AppRunnerAccessRoleC89E5843"}]}}}}}}},"AppRunnerInstanceRole":{"id":"AppRunnerInstanceRole","path":"ZilloRewardsStack/AppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportAppRunnerInstanceRole":{"id":"ImportAppRunnerInstanceRole","path":"ZilloRewardsStack/AppRunnerInstanceRole/ImportAppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"ZilloRewardsStack/AppRunnerInstanceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"tasks.apprunner.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"Zillo-Rewards-AppRunner-Instance-Role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZilloRewardsStack/AppRunnerInstanceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ZilloRewardsStack/AppRunnerInstanceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard-??????"]]}}],"Version":"2012-10-17"},"policyName":"AppRunnerInstanceRoleDefaultPolicy35195718","roles":[{"Ref":"AppRunnerInstanceRole96A5A063"}]}}}}}}},"ECRRepositoryUri":{"id":"ECRRepositoryUri","path":"ZilloRewardsStack/ECRRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"RewardsService":{"id":"RewardsService","path":"ZilloRewardsStack/RewardsService","constructInfo":{"fqn":"aws-cdk-lib.aws_apprunner.CfnService","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppRunner::Service","aws:cdk:cloudformation:props":{"healthCheckConfiguration":{"protocol":"HTTP","path":"/api/health","interval":10,"timeout":5,"healthyThreshold":1,"unhealthyThreshold":5},"instanceConfiguration":{"cpu":"512","memory":"1024","instanceRoleArn":{"Fn::GetAtt":["AppRunnerInstanceRole96A5A063","Arn"]}},"serviceName":"Zillo-rewards","sourceConfiguration":{"authenticationConfiguration":{"accessRoleArn":{"Fn::GetAtt":["AppRunnerAccessRoleC89E5843","Arn"]}},"autoDeploymentsEnabled":true,"imageRepository":{"imageIdentifier":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["RewardsRepository26FB6791","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["RewardsRepository26FB6791","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"RewardsRepository26FB6791"},":latest"]]},"imageRepositoryType":"ECR","imageConfiguration":{"port":"8080","runtimeEnvironmentSecrets":[{"name":"APP_SECRETS_ARN","value":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":secretsmanager:us-east-1:711801600585:secret:Zillo/dashboard"]]}}],"runtimeEnvironmentVariables":[{"name":"ASPNETCORE_ENVIRONMENT","value":"Production"},{"name":"AWS_REGION","value":"us-east-1"}]}}}}}},"AppRunnerServiceUrl":{"id":"AppRunnerServiceUrl","path":"ZilloRewardsStack/AppRunnerServiceUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"NextSteps":{"id":"NextSteps","path":"ZilloRewardsStack/NextSteps","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ZilloRewardsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ZilloRewardsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZilloRewardsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZilloRewardsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}